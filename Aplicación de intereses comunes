using Proyecto_de_aula;
using System;
using System.Collections.Generic;
using static System.Console;
using static System.Convert;

namespace Proyecto_de_aula
{
  public class Usuario
  {
    public string Nombre { get; set; }
    public LinkedList<string> Intereses { get; private set; }

    //complejidad O(1)
    public Usuario(string nombre)
    {
      Nombre = nombre;
      Intereses = new LinkedList<string>();
    }
    //complejidad O(n)
    //Se agrega un interés al usuario si no está repetido ni vacio
    public void AgregarIntereses(string interes)
    {
      if (string.IsNullOrWhiteSpace(interes))
        throw new ArgumentException("No se puede agregar un interés vacío");

      if (Intereses.Contains(interes)) //O(n)
        throw new InvalidOperationException($"El interes {interes} ya se encuentra agregado en la lista");
     
      Intereses.AddLast(interes); //O(1)
    }
    //complejidad O(n)
    //Muestra los intereses del usuario
    public void MostrarIntereses()
    {
      WriteLine($"Intereses de {Nombre}: ");
      if (Intereses.Count == 0)
      {
          WriteLine("No tiene intereses seleccionados");
          return;
      }
      foreach(string interes in Intereses)
      {
        WriteLine(interes + " ");
      }
    }
}

class Program
{
  static void Main()
{
  List<string> listaIntereses = new List<string>()
{
  "Música",
  "Deporte",
  "Libros",
  "Películas",
  "Series",
  "Lugares",
  "Tecnología",
  "Arte",
  "Comida",
  "Paises",
  "Idiomas",
  "Fotografia",
  "Videojuegos",
  "Moda",
  "Historia",
};
  WriteLine("Bienvenid@ al sistema de intereses comunes");
  WriteLine("Ingrese su nombre de usuario");
  string nombre = ReadLine();
  
  Usuario user = new Usuario(nombre);

  WriteLine("Elige tus intereses favoritos");
  for (int i = 0; i < listaIntereses.Count; i++)
{
    WriteLine($"{i+1}.{listaIntereses[i]}");
}
while(true)
{
  WriteLine("Ingrese un número o 0 para salir");
  int opcion = ToInt32(ReadLine());

  if (opcion==0)
    break;
  if (opcion > 0 && opcion <= listaIntereses.Count)
{
    string interesesSeleccionado = listaIntereses[opcion-1];
    try
    {
    user.AgregarIntereses(interesesSeleccionado);
    WriteLine($"Interes agregado: {interesesSeleccionado}");
    }
    catch (Exception ex)
    {
        WriteLine(ex.Message);
    }
}
else
{
    WriteLine("Número invalido. Inténtalo de nuevo");
}
}
user.MostrarIntereses();
}
}
}



  


    
